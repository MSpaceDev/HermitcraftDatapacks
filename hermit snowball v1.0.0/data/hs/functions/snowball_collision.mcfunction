# Adds score to player with ID of snowball if they haven't hit ID of the target before

# @s 								= Thrower
# @p[distance=..2]	= Person Hit

# Play ding to the thrower, when a player is hit
execute at @s as @a if score @s hs_id = @e[tag=hs_snowballTracker,sort=nearest,limit=1] hs_id run playsound minecraft:entity.experience_orb.pickup master @s ~ ~ ~ 1 1 1

# Add scores if tag is not present
execute at @s as @a if score @s hs_id = @e[tag=hs_snowballTracker,sort=nearest,limit=1] hs_id run execute if score @p[distance =..2] hs_id matches 1 unless score @p[distance =..2] hs_id = @s hs_id if entity @s[tag = !hs_1] run scoreboard players add @s hs_playersHit 1
execute at @s as @a if score @s hs_id = @e[tag=hs_snowballTracker,sort=nearest,limit=1] hs_id run execute if score @p[distance =..2] hs_id matches 2 unless score @p[distance =..2] hs_id = @s hs_id if entity @s[tag = !hs_2] run scoreboard players add @s hs_playersHit 1
execute at @s as @a if score @s hs_id = @e[tag=hs_snowballTracker,sort=nearest,limit=1] hs_id run execute if score @p[distance =..2] hs_id matches 3 unless score @p[distance =..2] hs_id = @s hs_id if entity @s[tag = !hs_3] run scoreboard players add @s hs_playersHit 1
execute at @s as @a if score @s hs_id = @e[tag=hs_snowballTracker,sort=nearest,limit=1] hs_id run execute if score @p[distance =..2] hs_id matches 4 unless score @p[distance =..2] hs_id = @s hs_id if entity @s[tag = !hs_4] run scoreboard players add @s hs_playersHit 1
execute at @s as @a if score @s hs_id = @e[tag=hs_snowballTracker,sort=nearest,limit=1] hs_id run execute if score @p[distance =..2] hs_id matches 5 unless score @p[distance =..2] hs_id = @s hs_id if entity @s[tag = !hs_5] run scoreboard players add @s hs_playersHit 1
execute at @s as @a if score @s hs_id = @e[tag=hs_snowballTracker,sort=nearest,limit=1] hs_id run execute if score @p[distance =..2] hs_id matches 6 unless score @p[distance =..2] hs_id = @s hs_id if entity @s[tag = !hs_6] run scoreboard players add @s hs_playersHit 1
execute at @s as @a if score @s hs_id = @e[tag=hs_snowballTracker,sort=nearest,limit=1] hs_id run execute if score @p[distance =..2] hs_id matches 7 unless score @p[distance =..2] hs_id = @s hs_id if entity @s[tag = !hs_7] run scoreboard players add @s hs_playersHit 1
execute at @s as @a if score @s hs_id = @e[tag=hs_snowballTracker,sort=nearest,limit=1] hs_id run execute if score @p[distance =..2] hs_id matches 8 unless score @p[distance =..2] hs_id = @s hs_id if entity @s[tag = !hs_8] run scoreboard players add @s hs_playersHit 1
execute at @s as @a if score @s hs_id = @e[tag=hs_snowballTracker,sort=nearest,limit=1] hs_id run execute if score @p[distance =..2] hs_id matches 9 unless score @p[distance =..2] hs_id = @s hs_id if entity @s[tag = !hs_9] run scoreboard players add @s hs_playersHit 1
execute at @s as @a if score @s hs_id = @e[tag=hs_snowballTracker,sort=nearest,limit=1] hs_id run execute if score @p[distance =..2] hs_id matches 10 unless score @p[distance =..2] hs_id = @s hs_id if entity @s[tag = !hs_10] run scoreboard players add @s hs_playersHit 1
execute at @s as @a if score @s hs_id = @e[tag=hs_snowballTracker,sort=nearest,limit=1] hs_id run execute if score @p[distance =..2] hs_id matches 11 unless score @p[distance =..2] hs_id = @s hs_id if entity @s[tag = !hs_11] run scoreboard players add @s hs_playersHit 1
execute at @s as @a if score @s hs_id = @e[tag=hs_snowballTracker,sort=nearest,limit=1] hs_id run execute if score @p[distance =..2] hs_id matches 12 unless score @p[distance =..2] hs_id = @s hs_id if entity @s[tag = !hs_12] run scoreboard players add @s hs_playersHit 1
execute at @s as @a if score @s hs_id = @e[tag=hs_snowballTracker,sort=nearest,limit=1] hs_id run execute if score @p[distance =..2] hs_id matches 13 unless score @p[distance =..2] hs_id = @s hs_id if entity @s[tag = !hs_13] run scoreboard players add @s hs_playersHit 1
execute at @s as @a if score @s hs_id = @e[tag=hs_snowballTracker,sort=nearest,limit=1] hs_id run execute if score @p[distance =..2] hs_id matches 14 unless score @p[distance =..2] hs_id = @s hs_id if entity @s[tag = !hs_14] run scoreboard players add @s hs_playersHit 1
execute at @s as @a if score @s hs_id = @e[tag=hs_snowballTracker,sort=nearest,limit=1] hs_id run execute if score @p[distance =..2] hs_id matches 15 unless score @p[distance =..2] hs_id = @s hs_id if entity @s[tag = !hs_15] run scoreboard players add @s hs_playersHit 1
execute at @s as @a if score @s hs_id = @e[tag=hs_snowballTracker,sort=nearest,limit=1] hs_id run execute if score @p[distance =..2] hs_id matches 16 unless score @p[distance =..2] hs_id = @s hs_id if entity @s[tag = !hs_16] run scoreboard players add @s hs_playersHit 1
execute at @s as @a if score @s hs_id = @e[tag=hs_snowballTracker,sort=nearest,limit=1] hs_id run execute if score @p[distance =..2] hs_id matches 17 unless score @p[distance =..2] hs_id = @s hs_id if entity @s[tag = !hs_17] run scoreboard players add @s hs_playersHit 1
execute at @s as @a if score @s hs_id = @e[tag=hs_snowballTracker,sort=nearest,limit=1] hs_id run execute if score @p[distance =..2] hs_id matches 18 unless score @p[distance =..2] hs_id = @s hs_id if entity @s[tag = !hs_18] run scoreboard players add @s hs_playersHit 1
execute at @s as @a if score @s hs_id = @e[tag=hs_snowballTracker,sort=nearest,limit=1] hs_id run execute if score @p[distance =..2] hs_id matches 19 unless score @p[distance =..2] hs_id = @s hs_id if entity @s[tag = !hs_19] run scoreboard players add @s hs_playersHit 1
execute at @s as @a if score @s hs_id = @e[tag=hs_snowballTracker,sort=nearest,limit=1] hs_id run execute if score @p[distance =..2] hs_id matches 20 unless score @p[distance =..2] hs_id = @s hs_id if entity @s[tag = !hs_20] run scoreboard players add @s hs_playersHit 1
execute at @s as @a if score @s hs_id = @e[tag=hs_snowballTracker,sort=nearest,limit=1] hs_id run execute if score @p[distance =..2] hs_id matches 21 unless score @p[distance =..2] hs_id = @s hs_id if entity @s[tag = !hs_21] run scoreboard players add @s hs_playersHit 1
execute at @s as @a if score @s hs_id = @e[tag=hs_snowballTracker,sort=nearest,limit=1] hs_id run execute if score @p[distance =..2] hs_id matches 22 unless score @p[distance =..2] hs_id = @s hs_id if entity @s[tag = !hs_22] run scoreboard players add @s hs_playersHit 1
execute at @s as @a if score @s hs_id = @e[tag=hs_snowballTracker,sort=nearest,limit=1] hs_id run execute if score @p[distance =..2] hs_id matches 23 unless score @p[distance =..2] hs_id = @s hs_id if entity @s[tag = !hs_23] run scoreboard players add @s hs_playersHit 1
execute at @s as @a if score @s hs_id = @e[tag=hs_snowballTracker,sort=nearest,limit=1] hs_id run execute if score @p[distance =..2] hs_id matches 24 unless score @p[distance =..2] hs_id = @s hs_id if entity @s[tag = !hs_24] run scoreboard players add @s hs_playersHit 1
execute at @s as @a if score @s hs_id = @e[tag=hs_snowballTracker,sort=nearest,limit=1] hs_id run execute if score @p[distance =..2] hs_id matches 25 unless score @p[distance =..2] hs_id = @s hs_id if entity @s[tag = !hs_25] run scoreboard players add @s hs_playersHit 1
execute at @s as @a if score @s hs_id = @e[tag=hs_snowballTracker,sort=nearest,limit=1] hs_id run execute if score @p[distance =..2] hs_id matches 26 unless score @p[distance =..2] hs_id = @s hs_id if entity @s[tag = !hs_26] run scoreboard players add @s hs_playersHit 1
execute at @s as @a if score @s hs_id = @e[tag=hs_snowballTracker,sort=nearest,limit=1] hs_id run execute if score @p[distance =..2] hs_id matches 27 unless score @p[distance =..2] hs_id = @s hs_id if entity @s[tag = !hs_27] run scoreboard players add @s hs_playersHit 1

# Add tag when another player ID has been hit
execute at @s as @a if score @s hs_id = @e[tag=hs_snowballTracker,sort=nearest,limit=1] hs_id run execute if score @p[distance=..2] hs_id matches 1 unless score @p[distance=..2] hs_id = @s hs_id run tag @s add hs_1
execute at @s as @a if score @s hs_id = @e[tag=hs_snowballTracker,sort=nearest,limit=1] hs_id run execute if score @p[distance=..2] hs_id matches 2 unless score @p[distance=..2] hs_id = @s hs_id run tag @s add hs_2
execute at @s as @a if score @s hs_id = @e[tag=hs_snowballTracker,sort=nearest,limit=1] hs_id run execute if score @p[distance=..2] hs_id matches 3 unless score @p[distance=..2] hs_id = @s hs_id run tag @s add hs_3
execute at @s as @a if score @s hs_id = @e[tag=hs_snowballTracker,sort=nearest,limit=1] hs_id run execute if score @p[distance=..2] hs_id matches 4 unless score @p[distance=..2] hs_id = @s hs_id run tag @s add hs_4
execute at @s as @a if score @s hs_id = @e[tag=hs_snowballTracker,sort=nearest,limit=1] hs_id run execute if score @p[distance=..2] hs_id matches 5 unless score @p[distance=..2] hs_id = @s hs_id run tag @s add hs_5
execute at @s as @a if score @s hs_id = @e[tag=hs_snowballTracker,sort=nearest,limit=1] hs_id run execute if score @p[distance=..2] hs_id matches 6 unless score @p[distance=..2] hs_id = @s hs_id run tag @s add hs_6
execute at @s as @a if score @s hs_id = @e[tag=hs_snowballTracker,sort=nearest,limit=1] hs_id run execute if score @p[distance=..2] hs_id matches 7 unless score @p[distance=..2] hs_id = @s hs_id run tag @s add hs_7
execute at @s as @a if score @s hs_id = @e[tag=hs_snowballTracker,sort=nearest,limit=1] hs_id run execute if score @p[distance=..2] hs_id matches 8 unless score @p[distance=..2] hs_id = @s hs_id run tag @s add hs_8
execute at @s as @a if score @s hs_id = @e[tag=hs_snowballTracker,sort=nearest,limit=1] hs_id run execute if score @p[distance=..2] hs_id matches 9 unless score @p[distance=..2] hs_id = @s hs_id run tag @s add hs_9
execute at @s as @a if score @s hs_id = @e[tag=hs_snowballTracker,sort=nearest,limit=1] hs_id run execute if score @p[distance=..2] hs_id matches 10 unless score @p[distance=..2] hs_id = @s hs_id run tag @s add hs_10
execute at @s as @a if score @s hs_id = @e[tag=hs_snowballTracker,sort=nearest,limit=1] hs_id run execute if score @p[distance=..2] hs_id matches 11 unless score @p[distance=..2] hs_id = @s hs_id run tag @s add hs_11
execute at @s as @a if score @s hs_id = @e[tag=hs_snowballTracker,sort=nearest,limit=1] hs_id run execute if score @p[distance=..2] hs_id matches 12 unless score @p[distance=..2] hs_id = @s hs_id run tag @s add hs_12
execute at @s as @a if score @s hs_id = @e[tag=hs_snowballTracker,sort=nearest,limit=1] hs_id run execute if score @p[distance=..2] hs_id matches 13 unless score @p[distance=..2] hs_id = @s hs_id run tag @s add hs_13
execute at @s as @a if score @s hs_id = @e[tag=hs_snowballTracker,sort=nearest,limit=1] hs_id run execute if score @p[distance=..2] hs_id matches 14 unless score @p[distance=..2] hs_id = @s hs_id run tag @s add hs_14
execute at @s as @a if score @s hs_id = @e[tag=hs_snowballTracker,sort=nearest,limit=1] hs_id run execute if score @p[distance=..2] hs_id matches 15 unless score @p[distance=..2] hs_id = @s hs_id run tag @s add hs_15
execute at @s as @a if score @s hs_id = @e[tag=hs_snowballTracker,sort=nearest,limit=1] hs_id run execute if score @p[distance=..2] hs_id matches 16 unless score @p[distance=..2] hs_id = @s hs_id run tag @s add hs_16
execute at @s as @a if score @s hs_id = @e[tag=hs_snowballTracker,sort=nearest,limit=1] hs_id run execute if score @p[distance=..2] hs_id matches 17 unless score @p[distance=..2] hs_id = @s hs_id run tag @s add hs_17
execute at @s as @a if score @s hs_id = @e[tag=hs_snowballTracker,sort=nearest,limit=1] hs_id run execute if score @p[distance=..2] hs_id matches 18 unless score @p[distance=..2] hs_id = @s hs_id run tag @s add hs_18
execute at @s as @a if score @s hs_id = @e[tag=hs_snowballTracker,sort=nearest,limit=1] hs_id run execute if score @p[distance=..2] hs_id matches 19 unless score @p[distance=..2] hs_id = @s hs_id run tag @s add hs_19
execute at @s as @a if score @s hs_id = @e[tag=hs_snowballTracker,sort=nearest,limit=1] hs_id run execute if score @p[distance=..2] hs_id matches 20 unless score @p[distance=..2] hs_id = @s hs_id run tag @s add hs_20
execute at @s as @a if score @s hs_id = @e[tag=hs_snowballTracker,sort=nearest,limit=1] hs_id run execute if score @p[distance=..2] hs_id matches 21 unless score @p[distance=..2] hs_id = @s hs_id run tag @s add hs_21
execute at @s as @a if score @s hs_id = @e[tag=hs_snowballTracker,sort=nearest,limit=1] hs_id run execute if score @p[distance=..2] hs_id matches 22 unless score @p[distance=..2] hs_id = @s hs_id run tag @s add hs_22
execute at @s as @a if score @s hs_id = @e[tag=hs_snowballTracker,sort=nearest,limit=1] hs_id run execute if score @p[distance=..2] hs_id matches 23 unless score @p[distance=..2] hs_id = @s hs_id run tag @s add hs_23
execute at @s as @a if score @s hs_id = @e[tag=hs_snowballTracker,sort=nearest,limit=1] hs_id run execute if score @p[distance=..2] hs_id matches 24 unless score @p[distance=..2] hs_id = @s hs_id run tag @s add hs_24
execute at @s as @a if score @s hs_id = @e[tag=hs_snowballTracker,sort=nearest,limit=1] hs_id run execute if score @p[distance=..2] hs_id matches 25 unless score @p[distance=..2] hs_id = @s hs_id run tag @s add hs_25
execute at @s as @a if score @s hs_id = @e[tag=hs_snowballTracker,sort=nearest,limit=1] hs_id run execute if score @p[distance=..2] hs_id matches 26 unless score @p[distance=..2] hs_id = @s hs_id run tag @s add hs_26
execute at @s as @a if score @s hs_id = @e[tag=hs_snowballTracker,sort=nearest,limit=1] hs_id run execute if score @p[distance=..2] hs_id matches 27 unless score @p[distance=..2] hs_id = @s hs_id run tag @s add hs_27

kill @s
